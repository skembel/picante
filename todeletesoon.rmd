```{r}
library("microbenchmark")

library(ape)
n <- 750

tree <- rtree(n)
clump1 <- sample(0:1, n, replace = TRUE)
clump2a <- sample(0:1, n, replace = TRUE)
clump2b <- sample(0:1, n, replace = TRUE)
clump4 <- sample(0:1, n, replace = TRUE)
even <- sample(0:1, n, replace = TRUE)
random <- sample(0:1, n, replace = TRUE)
samp <- data.frame(
  clump1,
  clump2a,
  clump2b,
  clump4,
  even,
  random
)
samp <- t(samp)

colnames(samp) <- tree$tip.label

coph <-cophenetic(tree)


```
```{r}
# Prep example data
randtree <- ape::rcoal(100)
example_data <- read.csv('example_data.csv')
# give some labels from the tree
example_data$label <- randtree$tip.label[1:89]
train_data_as_named_vec <- setNames(example_data$Category, example_data$label)

predicted_values <- picante::phyEstimateDisc(trait = train_data_as_named_vec, phy=randtree) # Gives 11 warnings/errors: In xtfrm.data.frame(x) : cannot xtfrm data frames
predicted_values <- picante::phyEstimate(trait = train_data_as_named_vec, phy=randtree) # works ok

#Reset index to use labels
rownames(example_data) <- NULL
data_tib <- tibble::column_to_rownames(example_data, colnames(example_data)[2])

predicted_values <- picante::phyEstimateDisc(trait = data_tib, phy=randtree) # Gives 11 warnings/errors: In xtfrm.data.frame(x) : cannot xtfrm data frames
predicted_values <- picante::phyEstimate(trait = data_tib, phy=randtree) # works ok
```
```{r}
order()
xtfrm.data.frame(x)
```
